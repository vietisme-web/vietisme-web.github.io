<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Chess Bot 1000 Elo ♟️</title>
<link rel="stylesheet" href="https://unpkg.com/chessboardjs@1.0.0/dist/chessboard-1.0.0.min.css"/>
<style>
  body {text-align:center; font-family:Arial; background:#f4f4f4; margin:0; padding:0;}
  h1 {background:#222; color:white; margin:0; padding:20px;}
  #board {width:400px; margin:20px auto;}
  button {padding:10px 20px; margin:10px;}
</style>
</head>
<body>
<h1>Chess Bot 1000 Elo ♟️</h1>
<div id="board"></div>
<button onclick="resetGame()">Bắt đầu lại</button>

<script src="https://cdnjs.cloudflare.com/ajax/libs/chess.js/1.0.0/chess.min.js"></script>
<script src="https://unpkg.com/chessboardjs@1.0.0/dist/chessboard-1.0.0.min.js"></script>
<script>
const game = new Chess();
const board = Chessboard('board', {
  draggable:true,
  position:'start',
  onDrop: handleMove
});

function handleMove(source,target){
  const move = game.move({from:source,to:target,promotion:'q'});
  if(move===null) return 'snapback';
  setTimeout(botMove,300);
}

function botMove(){
  if(game.game_over()) return;
  const moves = game.moves({verbose:true});
  const capture = moves.filter(m=>m.captured);
  if(capture.length>0){game.move(capture[Math.floor(Math.random()*capture.length)].san); board.position(game.fen()); return;}
  const castle = moves.filter(m=>m.flags.includes('k')||m.flags.includes('q'));
  if(castle.length>0){game.move(castle[Math.floor(Math.random()*castle.length)].san); board.position(game.fen()); return;}
  const develop = moves.filter(m=>(m.piece==='n'||m.piece==='b')&&['c3','f3',']()
